# Дипломный проект по профессии «Тестировщик»
## Описание приложения
Приложение — это веб-сервис, который предлагает купить тур по определённой цене двумя способами:
* Обычная оплата по дебетовой карте.
* Уникальная технология: выдача кредита по данным банковской карты.

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
* сервису платежей, далее Payment Gate;
* кредитному сервису, далее Credit Gate.
  
Приложение в собственной СУБД сохраняет информацию о том, успешно ли был совершён платёж и каким способом. Данные карт при этом не сохраняются.

## Начало работы
Для запуска тестов на ПК должно быть установлено следующее ПО:
1. IntelliJ IDEA
2. Git
3. Docker Desktop
4. Google Chrome

## Установка, запуск и тестирование
1. Необходимо склонировать проект себе на компьютер для запуска и тестирования.
2. Открыть склонированный проект в Intellij IDEA
3. Запустить контейнеры из файла docker-compose.yml командой в терминале:
   
_docker-compose up_

4. Запустить gate-simulator через файл Dockerfile
5. Перед запуском SUT убедиться, что в файлах application.properties и SQLHelper раскомментирована требуемая база данных. При работе с MYSQL закомментирована база Postgres, и наоборот.
6. Запустить SUT командой в терминале:

для MySQL:

  java -jar aqa-shop.jar -P:jdbc.url=jdbc:mysql://localhost:3306/mysql -P:jdbc.user=app -P:jdbc.password=pass
  
для PostgreSQL:

   java -jar aqa-shop.jar -P:jdbc.url=jdbc:postgresql://localhost:5432/postgresql -P:jdbc.user=app -P:jdbc.password=pass
   
7. Дождаться сообщения в терминале, которое будет означать, что приложение успешно запущено:

   _JVM running_  
   Сервис будет доступен в браузере по адресу: http://localhost:8080/
   
9. Запустить автотесты командой в терминале:

./gradlew clean test 

9. Сгенерировать отчёт по итогам тестирования с помощью Allure. Отчёт автоматически откроется в браузере с помощью команды в терминале:

./gradlew allureServe

10. После генерации и работы с отчётом, остановить работу allureServe в терминале сочетанием клавиш CTRL + C. Если необходимо перезапустить контейнеры, приложение или автотесты, нужно остановить работу сервисов в терминале сочетанием клавиш CTRL + C и перезапустить их, повторив шаги 3-8.
